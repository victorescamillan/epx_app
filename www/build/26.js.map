{"version":3,"sources":["../../src/pages/assist/assist.module.ts","../../src/pages/assist/assist.ts"],"names":[],"mappings":"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","file":"26.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AssistPage } from './assist';\n\n@NgModule({\n  declarations: [\n    AssistPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AssistPage),\n  ],\n})\nexport class AssistPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/assist/assist.module.ts","import { Component, ViewChild, ElementRef, Renderer2 } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, Content, ViewController, Events } from 'ionic-angular';\nimport { EpxProvider } from '../../providers/epx/epx';\nimport { CacheService } from 'ionic-cache';\nimport { Observable } from 'rxjs/Observable';\nimport { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\n\n@IonicPage()\n@Component({\n  selector: 'page-assist',\n  templateUrl: 'assist.html',\n})\nexport class AssistPage {\n  @ViewChild(Content) content: Content;\n  @ViewChild('filter') filter: ElementRef;\n  @ViewChild('fab') fab: any;\n  assistList: any;\n  expertiseList: any;\n  expertise: string = '';\n  isLoading: boolean = true;\n  isRefresh: boolean = false;\n  isFilter: boolean = false;\n  page = 1;\n  totalPage = 0;\n  oldScrollTop = 0;\n  isNotification: boolean = false;\n  constructor(\n    private events: Events,\n    private viewCtrl: ViewController,\n    private renderer: Renderer2,\n    private cache: CacheService,\n    private loadingCtrl: LoadingController,\n    private provider: EpxProvider,\n    public navCtrl: NavController, public navParams: NavParams) {\n    console.log('navCtrl', navCtrl);\n    this.events.subscribe(this.provider.CLOSE_PAGE, value => {\n      if (value) {\n        navCtrl.popToRoot();\n      }\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AssistPage');\n    this.loadMemberAssist();\n  }\n  closeFilter() {\n    this.viewCtrl.dismiss();\n  }\n  loadMemberAssist(refresher?) {\n    let url = this.provider.business_infinite_url;\n    let ttl = this.provider.TTL;\n    let delay_type = this.provider.DELAY_TYPE;\n    let groupKey = 'assist-list';\n    this.page = 1;\n    let connected = this.provider.isConnected();\n    if (connected) {\n      if (refresher) {\n        this.expertise = '';\n        this.provider.getData('ID').then(id => {\n          this.provider.getMemberAssist(id, 10, this.page).subscribe(res => {\n            let assist = Observable.of(res.data);\n            this.cache.loadFromDelayedObservable(url, assist, groupKey, ttl, delay_type).subscribe(data => {\n              this.assistList = data;\n              this.expertiseList = res.skill;\n              console.log(this.assistList);\n            });\n            this.isLoading = false;\n            this.isFilter = false;\n            this.page = 1;\n            refresher.complete();\n          }, error => {\n            this.provider.toastMessage('Internal error!');\n            this.isLoading = false;\n            refresher.complete();\n          });\n        })\n      }\n      else {\n        this.provider.getData('ID').then(id => {\n          this.provider.getMemberAssist(id, 10, this.page).subscribe(res => {\n            let assist = Observable.of(res.data);\n            console.log('getMemberAssist', res.data);\n            this.cache.loadFromDelayedObservable(url, assist, groupKey, ttl, delay_type).subscribe(data => {\n              console.log('loadFromObservable', data);\n              this.assistList = data;\n            });\n            // this.assistList = res.data;\n            this.totalPage = res.number_of_page;\n            this.expertiseList = res.skill;\n            this.isLoading = false;\n            this.isRefresh = true;\n          }, error => {\n            this.provider.toastMessage('Internal error!');\n            this.isLoading = false;\n            this.isRefresh = true;\n          });\n\n        })\n      }\n    }\n    else {\n      this.provider.getData(url).then(data => {\n        if (data != null) {\n          let offline_data = Observable.of(data.value);\n          console.log('offline data: ', offline_data);\n          if (refresher) {\n            this.cache.loadFromDelayedObservable(url, offline_data, groupKey, ttl, delay_type).subscribe(data => {\n              this.assistList = data;\n              refresher.complete();\n            });\n          }\n          else {\n            this.cache.loadFromObservable(url, offline_data, groupKey).subscribe(data => {\n              this.assistList = data;\n            });\n          }\n          this.isLoading = false;\n          this.isRefresh = true;\n        }\n        else {\n          console.log('offline data: ', data);\n          refresher.complete();\n        }\n      });\n    }\n\n  }\n  //Pull to refresh page\n  forceReload(refresher) {\n    this.loadMemberAssist(refresher);\n  }\n  filterAssist() {\n\n    if (this.expertise == '') {\n      this.provider.toastMessage('Please select expertise.')\n      return;\n    }\n    this.isFilter = true;\n    // this.isLoading = true;\n    // this.isRefresh = false;\n    let loading = this.loadingCtrl.create({ content: 'Loading...' });\n    loading.present().then(()=>{\n      this.provider.getData('ID').then(id => {\n        this.provider.getMemberAssistFilter(id, this.expertise).subscribe(res => {\n          console.log('getMemberAssistFilter', res);\n          if (res.result == true) {\n            this.assistList = res.data;\n          }\n          else {\n            this.provider.toastMessage('No results found!');\n          }\n          loading.dismiss();\n        }, error => {\n          this.provider.toastMessage('Internal Error!');\n          loading.dismiss();\n        })\n      });\n    });\n    setTimeout(() => {\n      loading.dismiss();\n    }, 20000);\n   \n  }\n  respondToRequest(item) {\n    if (item.connected) {\n      this.navCtrl.push('ChatPage');\n    }\n    else {\n      this.provider.getData('ID').then(id => {\n        let loading = this.loadingCtrl.create({\n          content: 'Please wait...',\n        });\n        loading.present().then(() => {\n          this.provider.respondMemberAssist(id, item.ID).subscribe(res => {\n            console.log('respondToRequest', res);\n            if (res.result == true) {\n              this.navCtrl.push('ChatPage');\n              item.connected = res.result;\n            }\n            loading.dismiss();\n          }, error => {\n            this.provider.toastMessage('Internal error!');\n            loading.dismiss();\n          });\n        });\n      });\n    }\n  }\n  doInfinite(infiniteScroll) {\n    console.log('Begin async operation');\n    this.provider.getData('ID').then(id => {\n      this.provider.getMemberAssist(id, this.provider.PAGE_SIZE15, this.page + 1).subscribe(res => {\n        let assist = res.data;\n        for (let i = 0; i < assist.length; i++) {\n          this.assistList.push(assist[i]);\n          console.log(assist[i]);\n        }\n        infiniteScroll.complete();\n        this.page++;\n        this.isLoading = false;\n        this.isRefresh = true;\n      }, error => {\n        this.provider.toastMessage('Internal error!');\n        infiniteScroll.complete();\n        this.isLoading = false;\n        this.isRefresh = true;\n      });\n    })\n  }\n  scrollToTop() {\n    this.content.scrollToTop();\n  }\n  onScroll(event) {\n    console.log(this.fab);\n    if (event.scrollTop - this.oldScrollTop > 10) {\n      this.renderer.addClass(this.filter.nativeElement, 'hide-filter');\n      this.renderer.addClass(this.fab._mainButton._elementRef.nativeElement, 'fab-show');\n        console.log('scroll down',event.scrollTop - this.oldScrollTop)\n    }\n    else if (event.scrollTop - this.oldScrollTop < 0) {\n      this.renderer.removeClass(this.filter.nativeElement, 'hide-filter');\n      this.renderer.removeClass(this.fab._mainButton._elementRef.nativeElement, 'fab-show');\n      console.log('scroll up',event.scrollTop - this.oldScrollTop)\n    }\n    this.oldScrollTop = event.scrollTop;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/assist/assist.ts"],"sourceRoot":""}