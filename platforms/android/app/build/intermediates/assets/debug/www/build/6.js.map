{"version":3,"sources":["../../src/pages/assist/assist.module.ts","../../node_modules/rxjs/add/observable/of.js","../../src/pages/assist/assist.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AssistPage } from './assist';\n\n@NgModule({\n  declarations: [\n    AssistPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AssistPage),\n  ],\n})\nexport class AssistPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/assist/assist.module.ts","\"use strict\";\r\nvar Observable_1 = require('../../Observable');\r\nvar of_1 = require('../../observable/of');\r\nObservable_1.Observable.of = of_1.of;\r\n//# sourceMappingURL=of.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/add/observable/of.js\n// module id = 326\n// module chunks = 0 1 2 3 5 6","import { Component, ViewChild, ElementRef, Renderer2 } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, LoadingController, Content, ViewController, Events } from 'ionic-angular';\r\nimport { EpxProvider } from '../../providers/epx/epx';\r\nimport { CacheService } from 'ionic-cache';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/observable/of';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-assist',\r\n  templateUrl: 'assist.html',\r\n})\r\nexport class AssistPage {\r\n  @ViewChild(Content) content: Content;\r\n  @ViewChild('filter') filter: ElementRef;\r\n  @ViewChild('fab') fab: any;\r\n  assistList: any;\r\n  expertiseList: any;\r\n  expertise: string = '';\r\n  isLoading: boolean = true;\r\n  isRefresh: boolean = false;\r\n  isFilter: boolean = false;\r\n  page = 1;\r\n  totalPage = 0;\r\n  oldScrollTop = 0;\r\n  isNotification: boolean = false;\r\n  constructor(\r\n    private events: Events,\r\n    private viewCtrl: ViewController,\r\n    private renderer: Renderer2,\r\n    private cache: CacheService,\r\n    private loadingCtrl: LoadingController,\r\n    private provider: EpxProvider,\r\n    public navCtrl: NavController, public navParams: NavParams) {\r\n    console.log('navCtrl', navCtrl);\r\n    this.events.subscribe(this.provider.CLOSE_PAGE, value => {\r\n      if (value) {\r\n        navCtrl.popToRoot();\r\n      }\r\n    });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad AssistPage');\r\n    this.loadMemberAssist();\r\n  }\r\n  closeFilter() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n  loadMemberAssist(refresher?) {\r\n    let url = this.provider.business_infinite_url;\r\n    let ttl = this.provider.TTL;\r\n    let delay_type = this.provider.DELAY_TYPE;\r\n    let groupKey = 'assist-list';\r\n    this.page = 1;\r\n    let connected = this.provider.isConnected();\r\n    if (connected) {\r\n      if (refresher) {\r\n        this.expertise = '';\r\n        this.provider.getData('ID').then(id => {\r\n          this.provider.getMemberAssist(id, 10, this.page).subscribe(res => {\r\n            let assist = Observable.of(res.data);\r\n            this.cache.loadFromDelayedObservable(url, assist, groupKey, ttl, delay_type).subscribe(data => {\r\n              this.assistList = data;\r\n              this.expertiseList = res.skill;\r\n              console.log(this.assistList);\r\n            });\r\n            this.isLoading = false;\r\n            this.isFilter = false;\r\n            this.page = 1;\r\n            refresher.complete();\r\n          }, error => {\r\n            this.provider.toastMessage('Internal error!');\r\n            this.isLoading = false;\r\n            refresher.complete();\r\n          });\r\n        })\r\n      }\r\n      else {\r\n        this.provider.getData('ID').then(id => {\r\n          this.provider.getMemberAssist(id, 10, this.page).subscribe(res => {\r\n            let assist = Observable.of(res.data);\r\n            console.log('getMemberAssist', res.data);\r\n            this.cache.loadFromDelayedObservable(url, assist, groupKey, ttl, delay_type).subscribe(data => {\r\n              console.log('loadFromObservable', data);\r\n              this.assistList = data;\r\n            });\r\n            // this.assistList = res.data;\r\n            this.totalPage = res.number_of_page;\r\n            this.expertiseList = res.skill;\r\n            this.isLoading = false;\r\n            this.isRefresh = true;\r\n          }, error => {\r\n            this.provider.toastMessage('Internal error!');\r\n            this.isLoading = false;\r\n            this.isRefresh = true;\r\n          });\r\n\r\n        })\r\n      }\r\n    }\r\n    else {\r\n      this.provider.getData(url).then(data => {\r\n        if (data != null) {\r\n          let offline_data = Observable.of(data.value);\r\n          console.log('offline data: ', offline_data);\r\n          if (refresher) {\r\n            this.cache.loadFromDelayedObservable(url, offline_data, groupKey, ttl, delay_type).subscribe(data => {\r\n              this.assistList = data;\r\n              refresher.complete();\r\n            });\r\n          }\r\n          else {\r\n            this.cache.loadFromObservable(url, offline_data, groupKey).subscribe(data => {\r\n              this.assistList = data;\r\n            });\r\n          }\r\n          this.isLoading = false;\r\n          this.isRefresh = true;\r\n        }\r\n        else {\r\n          console.log('offline data: ', data);\r\n          refresher.complete();\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n  //Pull to refresh page\r\n  forceReload(refresher) {\r\n    this.loadMemberAssist(refresher);\r\n  }\r\n  filterAssist() {\r\n\r\n    if (this.expertise == '') {\r\n      this.provider.toastMessage('Please select expertise.')\r\n      return;\r\n    }\r\n    this.isFilter = true;\r\n    // this.isLoading = true;\r\n    // this.isRefresh = false;\r\n    let loading = this.loadingCtrl.create({ content: 'Loading...' });\r\n    loading.present().then(()=>{\r\n      this.provider.getData('ID').then(id => {\r\n        this.provider.getMemberAssistFilter(id, this.expertise).subscribe(res => {\r\n          console.log('getMemberAssistFilter', res);\r\n          if (res.result == true) {\r\n            this.assistList = res.data;\r\n          }\r\n          else {\r\n            this.provider.toastMessage('No results found!');\r\n          }\r\n          loading.dismiss();\r\n        }, error => {\r\n          this.provider.toastMessage('Internal Error!');\r\n          loading.dismiss();\r\n        })\r\n      });\r\n    });\r\n    setTimeout(() => {\r\n      loading.dismiss();\r\n    }, 20000);\r\n   \r\n  }\r\n  respondToRequest(item) {\r\n    if (item.connected) {\r\n      this.navCtrl.push('ChatPage');\r\n    }\r\n    else {\r\n      this.provider.getData('ID').then(id => {\r\n        let loading = this.loadingCtrl.create({\r\n          content: 'Please wait...',\r\n        });\r\n        loading.present().then(() => {\r\n          this.provider.respondMemberAssist(id, item.ID).subscribe(res => {\r\n            console.log('respondToRequest', res);\r\n            if (res.result == true) {\r\n              this.navCtrl.push('ChatPage');\r\n              item.connected = res.result;\r\n            }\r\n            loading.dismiss();\r\n          }, error => {\r\n            this.provider.toastMessage('Internal error!');\r\n            loading.dismiss();\r\n          });\r\n        });\r\n      });\r\n    }\r\n  }\r\n  doInfinite(infiniteScroll) {\r\n    console.log('Begin async operation');\r\n    this.provider.getData('ID').then(id => {\r\n      this.provider.getMemberAssist(id, this.provider.PAGE_SIZE15, this.page + 1).subscribe(res => {\r\n        let assist = res.data;\r\n        for (let i = 0; i < assist.length; i++) {\r\n          this.assistList.push(assist[i]);\r\n          console.log(assist[i]);\r\n        }\r\n        infiniteScroll.complete();\r\n        this.page++;\r\n        this.isLoading = false;\r\n        this.isRefresh = true;\r\n      }, error => {\r\n        this.provider.toastMessage('Internal error!');\r\n        infiniteScroll.complete();\r\n        this.isLoading = false;\r\n        this.isRefresh = true;\r\n      });\r\n    })\r\n  }\r\n  scrollToTop() {\r\n    this.content.scrollToTop();\r\n  }\r\n  onScroll(event) {\r\n    console.log(this.fab);\r\n    if (event.scrollTop - this.oldScrollTop > 10) {\r\n      this.renderer.addClass(this.filter.nativeElement, 'hide-filter');\r\n      this.renderer.addClass(this.fab._mainButton._elementRef.nativeElement, 'fab-show');\r\n        console.log('scroll down',event.scrollTop - this.oldScrollTop)\r\n    }\r\n    else if (event.scrollTop - this.oldScrollTop < 0) {\r\n      this.renderer.removeClass(this.filter.nativeElement, 'hide-filter');\r\n      this.renderer.removeClass(this.fab._mainButton._elementRef.nativeElement, 'fab-show');\r\n      console.log('scroll up',event.scrollTop - this.oldScrollTop)\r\n    }\r\n    this.oldScrollTop = event.scrollTop;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/assist/assist.ts"],"sourceRoot":""}