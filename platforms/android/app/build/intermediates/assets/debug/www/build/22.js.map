{"version":3,"sources":["../../src/pages/member-details/member-details.module.ts","../../src/pages/member-details/member-details.ts"],"names":[],"mappings":"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","file":"22.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MemberDetailsPage } from './member-details';\n\n@NgModule({\n  declarations: [\n    MemberDetailsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MemberDetailsPage),\n  ],\n})\nexport class MemberDetailsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/member-details/member-details.module.ts","import { Component, ViewChild, ElementRef } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Platform } from 'ionic-angular';\nimport { EpxProvider } from '../../providers/epx/epx';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-member-details',\n  templateUrl: 'member-details.html',\n})\nexport class MemberDetailsPage {\n  @ViewChild('spinner') spinner: ElementRef;\n  isLoading: boolean = true;\n  details: any;\n  partial_details: any;\n  member_crews: any;\n  current_trips: any;\n  past_trips: any;\n  vault_video: any;\n  hasCrews: boolean = false;\n  hasCurrent: boolean = false;\n  hasPast: boolean = false;\n  hasVideo: boolean = false;\n \n  constructor(private platform: Platform, private epxProvider: EpxProvider, public navCtrl: NavController, public navParams: NavParams) {\n    this.partial_details = navParams.data.data;\n    console.log('parameters',this.partial_details);\n  }\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad MemberDetailsPage');\n    this.loadMemberDetails(this.partial_details.ID);\n  }\n  ionViewWillEnter(){\n    let backAction = this.platform.registerBackButtonAction(() => {\n      this.navCtrl.pop();\n      backAction();\n    },2);\n  }\n  loadMemberDetails(id) {\n    this.epxProvider.getMemberDetails(id).subscribe(data => {\n      this.details = data;\n     \n      var crews = this.details.crews;\n      if (crews != null) {\n        this.member_crews = Object.keys(crews).map(keys => crews[keys]);\n        if(this.member_crews.length > 0){\n          this.hasCrews = true;\n        }\n        console.log('crews: ', this.member_crews);\n      }\n\n      var current = this.details.current_trips;\n      if (current != null) {\n        this.current_trips = Object.keys(current).map(keys => current[keys]);\n        console.log('current trips: ', this.current_trips);\n        if(this.current_trips.length > 0){\n          this.hasCurrent = true;\n        }\n      }\n\n      var past = this.details.past_trips;\n      if (past != null) {\n        this.past_trips = Object.keys(past).map(keys => past[keys]);\n        console.log('past trips: ', this.past_trips);\n        if(this.past_trips.length > 0){\n          this.hasPast = true;\n        }\n      }\n\n      let video = this.details.vault;\n      if(video != null){\n        this.vault_video = Object.keys(video).map(key => video[key]);\n        console.log('vault video: ', this.vault_video);\n        if(this.vault_video.length > 0){\n          this.hasVideo = true;\n        }\n      }\n      this.isLoading = false;\n      console.log('isLoading :',this.isLoading);\n    },error =>{\n      this.epxProvider.toastMessage('Internal Error!');\n      this.isLoading = false;\n    });\n  }\n  //Navigate to Trip Details\n  tripDetails(trip) {\n    console.log('trip details:', trip);\n    let data = {\n      ID: trip.ID,\n      isInterested: trip.trip_interested.interested,\n      sashes_image: trip.sashes_image,\n      location: trip.map_info.map_address,\n      lat: Number(trip.map_info.map_latitude),\n      lng: Number(trip.map_info.map_longitude),\n      product_cat: trip.product_cat,\n      title: trip.title,\n      trip_gallery: trip.trip_gallery,\n      full_content: trip.full_content\n    }   \n    this.navCtrl.push('TripDetailsPage', { data: data });\n  }\n  //Navigate to Member Details\n  memberDetails(member) {\n    console.log('member details:', member);\n    this.navCtrl.push('MemberDetailsPage', { data: member });\n  }\n  \n  openBrowser(url){\n    console.log('company url:',url);\n    window.open(url,\"_system\");\n  }\n  vaultDetails(vault) {\n    this.navCtrl.push('VaultDetailsPage', { data: vault });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/member-details/member-details.ts"],"sourceRoot":""}