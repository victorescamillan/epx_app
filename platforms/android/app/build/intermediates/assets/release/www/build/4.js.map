{"version":3,"sources":["../../src/pages/trip-details/trip-details.module.ts","../../src/pages/trip-details/trip-details.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TripDetailsPage } from './trip-details';\n\n@NgModule({\n  declarations: [\n    TripDetailsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TripDetailsPage),\n  ],\n})\nexport class TripDetailsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/trip-details/trip-details.module.ts","import { Component, ViewChild, ElementRef } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Platform, LoadingController } from 'ionic-angular';\nimport { EpxProvider } from '../../providers/epx/epx';\nimport { Observable } from 'rxjs/Observable';\nimport { StatusBar } from '@ionic-native/status-bar';\n// import { trigger, state, style, transition, animate,keyframes } from '@angular/animations'\n\n// import { Geolocation } from '@ionic-native/geolocation';\n// import {\n//   GoogleMaps,\n//   GoogleMap,\n//   GoogleMapsEvent,\n//   GoogleMapOptions,\n//   CameraPosition,\n//   MarkerOptions,\n//   Marker,\n//   LatLng,\n//  } from '@ionic-native/google-maps';\n\n/**\n * Generated class for the TripDetailsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\ndeclare const google;\n\n\n@IonicPage()\n@Component({\n  selector: 'page-trip-details',\n  templateUrl: 'trip-details.html',\n})\n\n\nexport class TripDetailsPage {\n  details: any;\n  whos_interested: any;\n  whos_interested_temp: any;\n  whos_going: any;\n  trip_leader: any;\n  map_info: any;\n  product_tags: any;\n  // map: GoogleMap;\n  @ViewChild('map') mapElement: ElementRef;\n\n  map: any;\n\n  trip_id: any;\n  location: string;\n  lat: number;\n  lng: number;\n  isLoading: boolean = true;\n  isInterested: boolean;\n  visibleState = 'visible';\n  constructor(\n    private loadingCtrl: LoadingController,\n    private epxProvider: EpxProvider,\n    // private googleMaps: GoogleMaps,\n    private platform: Platform,\n    // public geolocation: Geolocation,\n    public navCtrl: NavController, public navParams: NavParams) {\n    var details = navParams.data.data;\n    this.isInterested = details.trip_interested.interested;\n    console.log('trip details:', details);\n    this.trip_id = details.ID;\n    this.location = details.map_info.map_address;\n    this.lat = Number(details.map_info.map_latitude);\n    this.lng = Number(details.map_info.map_longitude);\n    this.loadTripDetails(this.trip_id);\n\n  }\n\n  memberDetails(member) {\n    this.navCtrl.push('MemberDetailsPage', { data: member });\n  }\n  \n  //Interested\n  interested() {\n    if(this.isInterested){\n      this.isInterested = false;\n      this.navParams.data.data.trip_interested.interested = false;\n    }\n    else{\n      this.isInterested = true;\n      this.navParams.data.data.trip_interested.interested = true;\n    }\n    this.epxProvider.getUser('ID').then(user_id => {\n      this.epxProvider.getTripInterest(this.trip_id, user_id).subscribe(res => {\n        this.isInterested = res.interest;\n        console.log('interest result:', res);\n      });\n    });\n  }\n  //get trip details\n  loadTripDetails(id) {\n\n    this.epxProvider.getTripDetails(id).subscribe(data => {\n      this.details = data;\n      console.log('trip details: ', data);\n\n      let interested = this.details.whos_interested;\n      this.whos_interested = Object.keys(interested).map(key => interested[key]);\n      this.whos_interested_temp = this.whos_interested.filter((element,index) => {\n        if(index < 4){\n          element[index];\n        }\n      });\n      let going = this.details.whos_going;\n      this.whos_going = Object.keys(going).map(key => going[key]);\n\n      this.initMap(this.lat, this.lng, this.location);\n      // loading.dismiss();\n      this.isLoading = false;\n      // this.getInterested();\n    });\n  }\n\n\n  //cordova-plugin-googlemaps\n  ionViewDidLoad() {\n\n\n    console.log('ionViewDidLoad TripDetailsPage');\n  }\n  initMap(lat, long, location) {\n    let position = { lat: lat, lng: long }\n    this.map = new google.maps.Map(this.mapElement.nativeElement, {\n      zoom: 15,\n      center: position,\n      mapTypeId: 'roadmap'\n    });\n\n    var marker = new google.maps.Marker({\n      position: position,\n      map: this.map,\n      title: location\n    });\n\n    this.map.setCenter(position);\n  }\n  // loadMap(lat_value,long_value,location) {\n  //   let mapOptions: GoogleMapOptions = {\n  //     camera: {\n  //       target: {\n  //         lat: lat_value,\n  //         lng: long_value\n  //       },\n  //       zoom: 10,\n  //       tilt: 30,\n\n  //     }\n  //   };\n\n  //   this.map = this.googleMaps.create('map_canvas', mapOptions);\n\n  //   // Wait the MAP_READY before using any methods.\n  //   this.map.one(GoogleMapsEvent.MAP_READY)\n  //     .then(() => {\n  //       console.log('Map is ready!');\n\n  //       // Now you can use all methods safely.\n  //       this.map.addMarker({\n  //           title: location,\n  //           icon: 'green',\n  //           animation: 'DROP',\n  //           position: {\n  //             lat: lat_value,\n  //             lng: long_value\n  //           }\n  //         })\n  //         // .then(marker => {\n  //         //   marker.on(GoogleMapsEvent.MARKER_CLICK)\n  //         //     .subscribe(() => {\n  //         //       alert('clicked');\n  //         //     });\n  //         // });\n  //     });\n  // }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/trip-details/trip-details.ts"],"sourceRoot":""}