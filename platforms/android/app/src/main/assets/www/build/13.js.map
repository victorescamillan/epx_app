{"version":3,"sources":["../../src/pages/trip-details/trip-details.module.ts","../../src/pages/trip-details/trip-details.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACC;AAUjD;IAAA;IAAoC,CAAC;IAAxB,qBAAqB;QARjC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,sEAAe;aAChB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,sEAAe,CAAC;aAC1C;SACF,CAAC;OACW,qBAAqB,CAAG;IAAD,4BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;ACZ+B;AACR;AACH;AAYtD;IAyBE,qBAAqB;IACrB,0BAA0B;IAE1B,yBACU,WAAwB;QAChC,kCAAkC;QAClC,mCAAmC;QAC5B,OAAsB,EAAS,SAAoB;QAHlD,gBAAW,GAAX,WAAW,CAAa;QAGzB,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAnB5D,gBAAgB;QAChB,oBAAoB;QACpB,eAAe;QACf,eAAe;QACf,oBAAoB;QACpB,qBAAqB;QACrB,iBAAiB;QACjB,yBAAyB;QAEzB,cAAS,GAAY,IAAI,CAAC;QAC1B,aAAQ,GAAY,KAAK,CAAC;QAC1B,iBAAY,GAAG,SAAS,CAAC;QASvB,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC;QAC3C,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAClD,CAAC;IACD,wCAAc,GAAd;QACE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;QAC9C,OAAO,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAC;IAChD,CAAC;IAED,uBAAuB;IACvB,iDAAiD;IACjD,IAAI;IACJ,uCAAa,GAAb,UAAc,IAAI;QAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,mBAAmB,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IACzD,CAAC;IACD,kDAAwB,GAAxB,UAAyB,MAAM;QAC7B,IAAI,IAAI,GAAG;YACT,EAAE,EAAE,MAAM,CAAC,EAAE;YACb,YAAY,EAAE,MAAM,CAAC,6BAA6B;YAClD,MAAM,EAAE,MAAM,CAAC,uBAAuB;YACtC,cAAc,EAAE,MAAM,CAAC,+BAA+B;YACtD,YAAY,EAAE,MAAM,CAAC,6BAA6B;YAClD,OAAO,EAAE,MAAM,CAAC,wBAAwB;YACxC,QAAQ,EAAE,MAAM,CAAC,yBAAyB;YAC1C,SAAS,EAAE,MAAM,CAAC,0BAA0B;YAC5C,SAAS,EAAE,MAAM,CAAC,8BAA8B;YAChD,QAAQ,EAAE,MAAM,CAAC,yBAAyB;YAC1C,IAAI,EAAE,MAAM,CAAC,qBAAqB;YAClC,oBAAoB,EAAE,MAAM,CAAC,qCAAqC;YAClE,QAAQ,EAAE,MAAM,CAAC,yBAAyB;SAC3C,CAAC;QACF,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAC1B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,mBAAmB,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IACzD,CAAC;IACD,iDAAuB,GAAvB,UAAwB,MAAM;QAC5B,IAAI,IAAI,GAAG;YACT,EAAE,EAAE,MAAM,CAAC,EAAE;YACb,YAAY,EAAE,MAAM,CAAC,wBAAwB;YAC7C,MAAM,EAAE,MAAM,CAAC,kBAAkB;YACjC,cAAc,EAAE,MAAM,CAAC,0BAA0B;YACjD,YAAY,EAAE,MAAM,CAAC,wBAAwB;YAC7C,OAAO,EAAE,MAAM,CAAC,mBAAmB;YACnC,QAAQ,EAAE,MAAM,CAAC,oBAAoB;YACrC,SAAS,EAAE,MAAM,CAAC,qBAAqB;YACvC,SAAS,EAAE,MAAM,CAAC,yBAAyB;YAC3C,QAAQ,EAAE,MAAM,CAAC,oBAAoB;YACrC,IAAI,EAAE,MAAM,CAAC,gBAAgB;YAC7B,oBAAoB,EAAE,MAAM,CAAC,gCAAgC;YAC7D,QAAQ,EAAE,MAAM,CAAC,oBAAoB;SACtC,CAAC;QACF,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAC5B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,mBAAmB,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IACzD,CAAC;IACD,sBAAsB;IACtB,qCAAW,GAAX,UAAY,SAAS;QACnB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;IAClC,CAAC;IACD,YAAY;IACZ,oCAAU,GAAV;QAAA,iBAiBC;QAhBC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,iBAAO;YACzC,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,KAAI,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;YACpD,KAAI,CAAC,WAAW,CAAC,eAAe,CAAC,KAAI,CAAC,eAAe,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,SAAS,CAAC,aAAG;gBAC9E,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,UAAU,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC,2CAA2C;gBAC/G,KAAI,CAAC,eAAe,CAAC,YAAY,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC,wCAAwC;gBAC1F,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACtB,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACjB,KAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE,CAAC;gBACtC,CAAC;gBACD,IAAI,CAAC,CAAC;oBACJ,KAAI,CAAC,OAAO,CAAC,oBAAoB,EAAE,CAAC;gBACtC,CAAC;gBACD,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,GAAG,CAAC,CAAC;YACvC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IACD,kBAAkB;IAClB,yCAAe,GAAf,UAAgB,SAAU;QAA1B,iBAgBC;QAfC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,cAAI;YACrE,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;YACpC,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YACxD,0DAA0D;YAC1D,IAAI,UAAU,GAAG,KAAI,CAAC,OAAO,CAAC,eAAe,CAAC;YAC9C,KAAI,CAAC,eAAe,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,iBAAU,CAAC,GAAG,CAAC,EAAf,CAAe,CAAC,CAAC;YAE3E,IAAI,KAAK,GAAG,KAAI,CAAC,OAAO,CAAC,UAAU,CAAC;YACpC,KAAI,CAAC,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,YAAK,CAAC,GAAG,CAAC,EAAV,CAAU,CAAC,CAAC;YAE5D,KAAI,CAAC,OAAO,CAAC,KAAI,CAAC,eAAe,CAAC,GAAG,EAAE,KAAI,CAAC,eAAe,CAAC,GAAG,EAAE,KAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;YAEhG,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;IACL,CAAC;IACD,qCAAW,GAAX,UAAY,GAAG;QACb,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,SAAS,CAAG,CAAC;IAChC,CAAC;IACD,oCAAU,GAAV,UAAW,GAAG;QACZ,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QACxB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC;IACnD,CAAC;IACD,2BAA2B;IAE3B,iCAAO,GAAP,UAAQ,GAAG,EAAE,IAAI,EAAE,QAAQ;QACzB,IAAI,QAAQ,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE;QACtC,IAAI,CAAC,GAAG,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE;YAC5D,IAAI,EAAE,EAAE;YACR,MAAM,EAAE,QAAQ;YAChB,SAAS,EAAE,SAAS;SACrB,CAAC,CAAC;QAEH,wCAAwC;QACxC,wBAAwB;QACxB,mBAAmB;QACnB,oBAAoB;QACpB,MAAM;QAEN,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;IAC/B,CAAC;IA7IiB;QAAjB,yEAAS,CAAC,KAAK,CAAC;kCAAa,iEAAU;uDAAC;IAT9B,eAAe;QAN3B,wEAAS,CAAC;YACT,QAAQ,EAAE,mBAAmB;WACG;SACjC,CAAC;oJAgCkC;YAGhB,YAA0C;OAhCjD,eAAe,CAuJ3B;IAAD,CAAC;AAAA;SAvJY,eAAe,gB","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TripDetailsPage } from './trip-details';\n\n@NgModule({\n  declarations: [\n    TripDetailsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TripDetailsPage),\n  ],\n})\nexport class TripDetailsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/trip-details/trip-details.module.ts","import { Component, ViewChild, ElementRef } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { EpxProvider } from '../../providers/epx/epx';\r\n\r\ndeclare const google;\r\n\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-trip-details',\r\n  templateUrl: 'trip-details.html',\r\n})\r\n\r\n\r\nexport class TripDetailsPage {\r\n  details: any;\r\n  partial_details: any;\r\n  whos_interested: any;\r\n  whos_going: any;\r\n  trip_leader: any;\r\n  map_info: any;\r\n  product_tags: any;\r\n  // map: GoogleMap;\r\n  @ViewChild('map') mapElement: ElementRef;\r\n\r\n  map: any;\r\n\r\n  // trip_id: any;\r\n  // location: string;\r\n  // lat: number;\r\n  // lng: number;\r\n  // product_cat: any;\r\n  // trip_gallery: any;\r\n  // title: string;\r\n  // isInterested: boolean;\r\n\r\n  isLoading: boolean = true;\r\n  isTapped: boolean = false;\r\n  visibleState = 'visible';\r\n  // sashes_image: any;\r\n  // gallery_length: number;\r\n\r\n  constructor(\r\n    private epxProvider: EpxProvider,\r\n    // private googleMaps: GoogleMaps,\r\n    // public geolocation: Geolocation,\r\n    public navCtrl: NavController, public navParams: NavParams) {\r\n    this.partial_details = navParams.data.data;\r\n    console.log('trip param:', navParams.data.data);\r\n  }\r\n  ionViewDidLoad() {\r\n    this.loadTripDetails(this.partial_details.ID);\r\n    console.log('ionViewDidLoad TripDetailsPage');\r\n  }\r\n\r\n  // ionViewWillUnload(){\r\n  //   this.epxProvider.removeData('trip_details');\r\n  // }\r\n  memberDetails(data) {\r\n    this.navCtrl.push('MemberDetailsPage', { data: data });\r\n  }\r\n  memberDetailsCoordinator(member) {\r\n    let data = {\r\n      ID: member.ID,\r\n      member_since: member.Trip_coordinator_Member_since,\r\n      avatar: member.Trip_coordinator_avatar,\r\n      business_model: member.Trip_coordinator_business_model,\r\n      business_url: member.Trip_coordinator_business_url,\r\n      company: member.Trip_coordinator_company,\r\n      employee: member.Trip_coordinator_employee,\r\n      expert_in: member.Trip_coordinator_expert_in,\r\n      help_with: member.Trip_coordinator_can_help_with,\r\n      industry: member.Trip_coordinator_industry,\r\n      name: member.Trip_coordinator_name,\r\n      personal_description: member.Trip_coordinator_personal_description,\r\n      position: member.Trip_coordinator_position,\r\n    };\r\n    console.log('data', data);\r\n    this.navCtrl.push('MemberDetailsPage', { data: data });\r\n  }\r\n  memberDetailsTripLeader(member) {\r\n    let data = {\r\n      ID: member.ID,\r\n      member_since: member.Trip_leader_Member_since,\r\n      avatar: member.Trip_leader_avatar,\r\n      business_model: member.Trip_leader_business_model,\r\n      business_url: member.Trip_leader_business_url,\r\n      company: member.Trip_leader_company,\r\n      employee: member.Trip_leader_employee,\r\n      expert_in: member.Trip_leader_expert_in,\r\n      help_with: member.Trip_leader_can_help_with,\r\n      industry: member.Trip_leader_industry,\r\n      name: member.Trip_leader_name,\r\n      personal_description: member.Trip_leader_personal_description,\r\n      position: member.Trip_leader_position,\r\n    };\r\n    console.log('data', member);\r\n    this.navCtrl.push('MemberDetailsPage', { data: data });\r\n  }\r\n  //Pull to refresh page\r\n  forceReload(refresher) {\r\n    this.loadTripDetails(refresher);\r\n  }\r\n  //Interested\r\n  interested() {\r\n    this.isTapped = true;\r\n    this.epxProvider.getData('ID').then(user_id => {\r\n      console.log('interest id', this.partial_details.ID);\r\n      this.epxProvider.getTripInterest(this.partial_details.ID, user_id).subscribe(res => {\r\n        this.navParams.data.trip.trip_interested.interested = res.interest; //Update the trip status from previous page\r\n        this.partial_details.isInterested = res.interest; //Update the trip status in current page\r\n        this.isTapped = false;\r\n        if (res.interest) {\r\n          this.details.number_of_interested++;\r\n        }\r\n        else {\r\n          this.details.number_of_interested--;\r\n        }\r\n        console.log('interest result:', res);\r\n      });\r\n    });\r\n  }\r\n  //get trip details\r\n  loadTripDetails(refresher?) {\r\n    this.epxProvider.getTripDetails(this.partial_details.ID).subscribe(data => {\r\n      this.details = data;\r\n      console.log('trip details: ', data);\r\n      console.log('trip gallery: ', data.trip_gallery.length);\r\n      // this.gallery_length = Number(data.trip_gallery.length);\r\n      let interested = this.details.whos_interested;\r\n      this.whos_interested = Object.keys(interested).map(key => interested[key]);\r\n\r\n      let going = this.details.whos_going;\r\n      this.whos_going = Object.keys(going).map(key => going[key]);\r\n\r\n      this.initMap(this.partial_details.lat, this.partial_details.lng, this.partial_details.location);\r\n\r\n      this.isLoading = false;\r\n    });\r\n  }\r\n  openBrowser(url) {\r\n    window.open(url, \"_system\", );\r\n  }\r\n  tripByTags(tag) {\r\n    console.log('tag', tag);\r\n    this.navCtrl.push('TripTagsPage', { data: tag });\r\n  }\r\n  //cordova-plugin-googlemaps\r\n\r\n  initMap(lat, long, location) {\r\n    let position = { lat: lat, lng: long }\r\n    this.map = new google.maps.Map(this.mapElement.nativeElement, {\r\n      zoom: 15,\r\n      center: position,\r\n      mapTypeId: 'roadmap'\r\n    });\r\n\r\n    // var marker = new google.maps.Marker({\r\n    //   position: position,\r\n    //   map: this.map,\r\n    //   title: location\r\n    // });\r\n\r\n    this.map.setCenter(position);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/trip-details/trip-details.ts"],"sourceRoot":""}